@import "tailwindcss";

:root {
  --background: #000; /* A true black for a deep space feel */
  --foreground: #ededed;
  --accent: #9F70FD;
  --card-background: rgba(26, 26, 26, 0.5); 
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-noto-sans);
  --font-mono: var(--font-roboto-mono);
}

/* --- REPLACED a static background with the new dynamic one --- */
body {
  background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
  color: var(--foreground);
  font-family: var(--font-sans);
  overflow-x: hidden; 
  min-height: 100vh; /* Use min-height to ensure the body can grow */
}

/* --- ADDED Animation Keyframes from Codepen --- */
@keyframes animStar {
  from {
    transform: translateY(0px);
  }
  to {
    transform: translateY(-2000px);
  }
}

/* --- ADDED Star Layer Styles from Codepen --- */
/* Each layer has a different size and animation duration to create the parallax effect */

#stars, #stars2, #stars3 {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  display: block;
  z-index: -1; /* Place stars behind all other content */
}

#stars {
  background: transparent;
  width: 1px;
  height: 1px;
  box-shadow: 
    /* --- MODIFIED: Added more stars --- */
    675px 824px #FFF, 17px 1152px #FFF, 1503px 1740px #FFF, 1619px 1239px #FFF, 
    1397px 1055px #FFF, 107px 165px #FFF, 1269px 746px #FFF, 1528px 1461px #FFF, 
    1443px 569px #FFF, 290px 1756px #FFF, 345px 1285px #FFF, 946px 148px #FFF, 
    549px 49px #FFF, 804px 1024px #FFF, 1872px 1493px #FFF, 762px 1403px #FFF,
    1821px 1999px #FFF, 1734px 493px #FFF, 928px 281px #FFF, 1390px 1867px #FFF,
    1060px 1154px #FFF, 8px 1235px #FFF, 1374px 388px #FFF, 609px 1279px #FFF;
  animation: animStar 50s linear infinite;
}

#stars2 {
  background: transparent;
  width: 2px;
  height: 2px;
  box-shadow: 
    /* --- MODIFIED: Added more stars --- */
    800px 900px #FFF, 1201px 1902px #FFF, 1693px 830px #FFF, 989px 349px #FFF, 
    1887px 565px #FFF, 177px 75px #FFF, 1659px 1456px #FFF, 118px 1561px #FFF, 
    1433px 999px #FFF, 190px 1856px #FFF, 545px 185px #FFF, 46px 548px #FFF, 
    1049px 1049px #FFF, 1204px 124px #FFF, 172px 1393px #FFF, 72px 103px #FFF,
    235px 1467px #FFF, 1756px 901px #FFF, 493px 664px #FFF, 1121px 1386px #FFF;
  animation: animStar 100s linear infinite;
}

#stars3 {
  background: transparent;
  width: 3px;
  height: 3px;
  box-shadow: 
    /* --- MODIFIED: Added more stars --- */
    1575px 1824px #FFF, 1017px 152px #FFF, 3px 140px #FFF, 119px 239px #FFF, 
    197px 155px #FFF, 107px 65px #FFF, 169px 76px #FFF, 128px 161px #FFF, 
    443px 59px #FFF, 290px 756px #FFF, 35px 285px #FFF, 96px 148px #FFF,
    1834px 129px #FFF, 743px 1823px #FFF, 1445px 788px #FFF, 902px 453px #FFF;
  animation: animStar 150s linear infinite;
}

.press-animation {
  transition: transform 150ms ease;
}
.press-animation:active {
  transform: scale(0.95);
}

.glass-card {
  background: var(--card-background);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
}


/* --- Other Styles --- */

.press-animation {
  transition: transform 150ms ease;
}

.press-animation:active {
  transform: scale(0.95);
}

.glass-card {
  background: var(--card-background);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
}

/* --- UPDATED ICON STYLES --- */

/* Base style for all icons */
.icon-base {
    color: #9ca3af;
    transition: color 150ms ease-in-out, transform 150ms ease-in-out;
}
.icon-base svg {
    stroke: #9ca3af;
    transition: all 150ms ease-in-out;
}

/* Thumb Up: Color applied via 'has-votes' class */
.icon-thumb-up.has-votes {
    color: #2ddc7d;
}
.icon-thumb-up.has-votes svg {
    stroke: #2ddc7d;
    filter: url(#glow-green);
}

/* Thumb Down: Color applied via 'has-votes' class */
.icon-thumb-down.has-votes {
    color: #dc2d2d;
}
.icon-thumb-down.has-votes svg {
    stroke: #dc2d2d;
    filter: url(#glow-red);
}

/* NEW: Comment icon gets color via 'has-comments' class */
.icon-comment.has-comments {
    color: white;
}
.icon-comment.has-comments svg {
    stroke: white;
    filter: url(#glow-white);
}

/* Hover effects for non-active icons */
.icon-thumb-up:not(.active):hover,
.icon-thumb-down:not(.active):hover,
.icon-comment:hover {
    color: white;
}
.icon-thumb-up:not(.active):hover svg,
.icon-thumb-down:not(.active):hover svg,
.icon-comment:hover svg {
    stroke: white;
}

.icon-comment:hover, .icon-share:hover {
  color: white;
}
.icon-comment:hover svg, .icon-share:hover svg {
  stroke: white;
  filter: url(#glow-white);
}


/* Active (voted) state still fills the icon */
.icon-thumb-up.active svg {
    fill: rgba(45, 220, 125, 0.25);
    transform: scale(1.1);
}
.icon-thumb-down.active svg {
    fill: rgba(220, 45, 45, 0.25);
    transform: scale(1.1);
}


/* --- Stacked Card Effect --- */
.stacked {
  position: relative;
}

/* We use ::before and ::after to create the layers behind the card.
  They are positioned absolutely behind the main card content.
*/
.stacked::before,
.stacked::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--card-background);
  border-radius: 0.5rem; /* Corresponds to rounded-lg */
  z-index: -1;
  transition: opacity 300ms ease-in-out, transform 300ms ease-in-out;
  opacity: 0;
}

/* Styling for the first layer (up to 3 replies) */
.stacked.stacked-1::before,
.stacked.stacked-2::before,
.stacked.stacked-3::before {
  opacity: 0.5;
  transform: rotate(-4deg) translateY(4px);
}

/* Styling for the second layer (2 or 3 replies) */
.stacked.stacked-2::after,
.stacked.stacked-3::after {
  opacity: 0.2;
  transform: rotate(3deg) translateY(8px);
}

/* We use a box-shadow to simulate the third layer for 3+ replies */
.stacked.stacked-3 {
   box-shadow: 0px 0px 0px 4px rgba(26, 26, 26, 0.1), 0 4px 30px rgba(0, 0, 0, 0.2);
}